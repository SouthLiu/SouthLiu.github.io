(this["webpackJsonpreact-ts-todolist"]=this["webpackJsonpreact-ts-todolist"]||[]).push([[0],{74:function(t,e,o){},75:function(t,e,o){"use strict";o.r(e);var n=o(8),c=o(0),a=o.n(c),r=o(17),i=o.n(r),s=o(41),d=o(78),l=o(32);function O(t){var e=t.addTodo,o=Object(c.useRef)(null),a=Object(c.useState)(""),r=Object(s.a)(a,2),i=r[0],O=r[1];return Object(n.jsxs)("div",{style:{marginBottom:20},children:[Object(n.jsx)(d.a,{ref:o,style:{width:300}}),Object(n.jsx)(l.a,{onClick:function(){var t=o.current.state.value;O((function(){return t})),i===t&&console.log("\u91cd\u590d\u503c"),e({id:(new Date).getTime(),contant:t}),o.current.setValue("")},children:"\u6dfb\u52a0"})]})}var u=Object(c.memo)(O),j=o(81),b=o(79);function f(t){var e=t.todoList,o=t.delTodo;return Object(n.jsx)("div",{style:{width:350},children:e.length>0&&e.map((function(t,e){return Object(n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(n.jsx)("span",{children:t.contant}),Object(n.jsx)(b.a,{title:"\u786e\u5b9a\u5220\u9664?",cancelText:"\u53d6\u6d88",okText:"\u786e\u5b9a",onConfirm:function(){return e=t.id,void o(e);var e},children:Object(n.jsx)(j.a,{style:{cursor:"pointer",marginLeft:15}})})]},t.id)}))})}var T,p=Object(c.memo)(f);!function(t){t.INIT_TODO="initTodo",t.ADD_TODO="addTodo",t.DEL_TODO="delTodo"}(T||(T={}));o(74);var D=o(62),v=o(33),y=function(t,e){var o=e.type,n=e.payload;switch(o){case T.INIT_TODO:return console.log("state:",t),console.log("action:",e),{todoList:n};case T.ADD_TODO:return Object(v.a)(Object(v.a)({},t),{},{todoList:[].concat(Object(D.a)(t.todoList),[n])});case T.DEL_TODO:return Object(v.a)(Object(v.a)({},t),{},{todoList:t.todoList.filter((function(t){return t.id!==n}))});default:return t}};function L(t){return{todoList:t}}var m=function(){var t=Object(c.useReducer)(y,[],L),e=Object(s.a)(t,2),o=e[0],a=e[1];Object(c.useEffect)((function(){var t=JSON.parse(localStorage.getItem("todoList")||"[]");a({type:T.INIT_TODO,payload:t})}),[]),Object(c.useEffect)((function(){localStorage.setItem("todoList",JSON.stringify(o.todoList||"[]"))}),[o.todoList]);var r=Object(c.useCallback)((function(t){a({type:T.ADD_TODO,payload:t})}),[]),i=Object(c.useCallback)((function(t){a({type:T.DEL_TODO,payload:t})}),[]);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(u,{addTodo:r}),Object(n.jsx)(p,{todoList:o.todoList,delTodo:i})]})};i.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(m,{})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.74cd8539.chunk.js.map